/****************************************************************/
/*          S A S   S A M P L E   L I B R A R Y                 */
/*                                                              */
/*    NAME: SVIMPEX1                                            */
/*   TITLE: Documentation Example 1 for PROC SURVEYIMPUTE       */
/* PRODUCT: STAT                                                */
/*  SYSTEM: ALL                                                 */
/*    KEYS: hot-deck imputation, approximate Bayesian bootstrap */
/*    KEYS: imputation cells, logistic regression analysis      */
/*   PROCS: SURVEYIMPUTE, SURVEYLOGISTIC, MIANALYZE             */
/*    DATA: Simulated data                                      */
/*     REF: PROC SURVEYIMPUTE, Example 1                        */
/****************************************************************/

data DrugAbuse;
   input Strata PSU ObsWeight ImputationCell Age Sex Race Insurance
         Drug Alcohol Treatment;
   datalines;
 1    1     5        1      74  1    1      3       2      2        1
 1    1     5        1      20  0    3      1       2      2        1
 1    1     5        3      42  1    2      1       1      2        1
 1    1     5        3      65  1    3      2       1      2        1
 1    1     5        2      53  1    1      1       1      1        1
 1    1     5        3      49  1    1      1       1      2        1
 1    1     5        3      51  0    2      1       2      1        1
 1    1     5        2      77  0    3      1       1      1        1
 1    1     5        2      26  1    1      1       1      2        1
 1    1     5        3      28  0    3      1       1      1        1
 1    1     5        1      71  1    1      1       2      2        1
 1    1     5        2      72  1    1      3       2      2        1
 1    1     5        3      24  1    1      1       1      1        1
 1    1     5        2      65  1    1      2       1      1        2
 1    1     5        3      47  1    1      1       1      1        1
 1    1     5        2      37  1    1      2       1      2        1
 1    1     5        2      46  1    1      3       1      1        1
 1    1     5        2      52  1    1      1       1      2        2
 1    1     5        3      60  0    3      1       1      2        1
 1    1     5        1      31  0    1      1       1      2        1
 1    2     5        1      23  0    3      3       1      1        1
 1    2     5        2      78  1    1      .       .      .        .
 1    2     5        2      29  1    1      1       1      1        1
 1    2     5        2      21  .    .      .       .      .        .
 1    2     5        3      85  0    1      3       1      2        1
 1    2     5        3      88  0    2      1       1      2        1
 1    2     5        1      36  1    2      1       1      1        1
 1    2     5        3      88  1    1      2       2      2        1
 1    2     5        1      39  0    1      1       1      2        1
 1    2     5        3      71  0    2      3       1      1        1
 1    2     5        3      46  1    1      1       1      2        1
 1    2     5        2      88  1    1      1       2      2        1
 1    2     5        1      19  0    2      1       2      1        1
 1    2     5        3      53  0    1      1       1      2        1
 1    2     5        3      20  1    1      3       1      2        1
 1    2     5        2      81  0    2      3       1      1        1
 1    2     5        1      21  1    2      1       1      2        2
 1    2     5        2      49  1    2      3       1      2        1
 1    2     5        1      58  1    1      1       2      2        1
 1    2     5        2      47  1    1      1       1      1        1
 1    3     5        2      46  0    1      2       2      1        1
 1    3     5        3      87  0    1      3       1      2        1
 1    3     5        1      70  0    1      1       2      2        1
 1    3     5        1      23  1    2      1       1      2        2
 1    3     5        3      54  1    1      2       1      2        1
 1    3     5        3      20  0    1      1       2      2        .
 1    3     5        1      59  1    1      1       2      2        1
 1    3     5        2      67  0    1      1       1      1        1
 1    3     5        1      28  1    2      1       1      2        2
 1    3     5        2      37  1    2      2       1      2        1
 1    3     5        2      74  1    1      1       1      2        1
 1    3     5        1      70  1    3      1       2      2        1
 1    3     5        1      35  0    1      1       1      2        1
 1    3     5        2      68  1    1      1       1      2        1
 1    3     5        1      55  1    1      3       1      2        1
 1    3     5        1      86  0    1      2       1      2        1
 1    3     5        3      50  1    2      2       1      2        1
 1    3     5        2      76  0    1      1       1      2        1
 1    3     5        1      19  1    2      1       1      2        1
 1    3     5        2      34  1    2      1       1      1        2
 1    4     5        3      23  1    2      3       2      2        .
 1    4     5        1      69  1    1      1       1      2        1
 1    4     5        2      46  1    1      3       1      2        1
 1    4     5        2      79  0    1      1       1      1        1
 1    4     5        1      55  .    .      .       .      .        .
 1    4     5        3      29  1    1      3       1      1        2
 1    4     5        3      43  0    2      1       1      2        1
 1    4     5        3      54  1    2      1       1      1        1
 1    4     5        3      44  1    1      1       1      2        2
 1    4     5        1      67  1    2      2       1      2        1
 1    4     5        2      22  0    1      1       1      2        1
 1    4     5        2      54  1    2      1       2      1        .
 1    4     5        1      28  0    2      1       2      1        1
 1    4     5        2      64  1    2      3       1      2        1
 1    4     5        2      51  1    2      2       2      1        1
 1    4     5        2      33  1    2      2       1      1        1
 1    4     5        2      34  1    1      1       1      2        1
 1    4     5        2      80  0    1      1       2      2        1
 1    4     5        2      66  0    1      2       1      2        2
 1    4     5        2      28  1    1      1       1      2        1
 2    1    10        3      24  1    3      2       1      2        1
 2    1    10        2      44  0    1      1       1      2        1
 2    1    10        2      64  0    1      3       1      2        1
 2    1    10        2      86  0    1      3       1      2        1
 2    1    10        3      23  0    2      1       1      1        .
 2    1    10        1      83  0    2      3       1      2        1
 2    1    10        1      85  1    3      1       1      2        1
 2    1    10        1      71  1    1      2       2      2        1
 2    1    10        3      33  0    1      2       1      1        1
 2    1    10        2      36  1    1      2       2      2        .
 2    1    10        2      36  1    2      2       1      1        1
 2    1    10        3      41  0    2      1       1      1        1
 2    1    10        1      88  0    1      1       1      1        1
 2    1    10        2      50  1    1      1       1      1        1
 2    1  10.0000      1      29  1    2      1       1      2        .
 2    1  10.0000      2      74  1    3      2       2      2        1
 2    1  10.0000      1      43  0    1      2       1      1        1
 2    1  10.0000      2      39  0    2      1       1      2        2
 2    1  10.0000      3      62  1    2      1       1      2        1
 2    1  10.0000      3      72  0    1      2       2      1        2
 2    2  12.5000      1      50  1    2      1       1      2        .
 2    2  12.5000      2      87  0    1      1       1      2        .
 2    2  12.5000      2      68  1    3      3       2      2        2
 2    2  12.5000      1      26  1    1      1       1      1        1
 2    2  12.5000      3      44  0    1      1       1      2        1
 2    2  12.5000      2      39  1    1      3       2      1        1
 2    2  12.5000      2      82  1    2      1       1      2        2
 2    2  12.5000      2      58  0    1      1       1      2        2
 2    2  12.5000      2      70  0    1      1       2      2        2
 2    2  12.5000      2      70  0    1      2       1      2        1
 2    2  12.5000      2      62  0    1      2       1      1        1
 2    2  12.5000      1      20  1    1      3       1      1        1
 2    2  12.5000      1      79  1    2      3       1      2        1
 2    2  12.5000      1      39  0    3      1       2      2        1
 2    2  12.5000      3      23  1    3      1       1      1        1
 2    2  12.5000      1      53  1    2      3       1      1        1
 2    3   8.0000      3      40  0    1      3       1      1        1
 2    3   8.0000      1      55  1    2      3       1      2        1
 2    3   8.0000      2      37  1    1      1       2      1        1
 2    3   8.0000      2      78  1    2      1       1      2        2
 2    3   8.0000      2      61  0    1      1       1      2        1
 2    3   8.0000      1      82  0    1      2       1      2        1
 2    3   8.0000      2      47  1    1      1       1      2        1
 2    3   8.0000      2      80  .    .      .       .      .        .
 2    3   8.0000      1      47  1    2      2       2      2        1
 2    3   8.0000      3      19  1    1      1       1      1        1
 2    3   8.0000      2      86  1    1      3       1      2        1
 2    3   8.0000      3      82  1    1      3       1      2        1
 2    3   8.0000      3      28  0    1      1       1      1        2
 2    3   8.0000      2      41  0    2      1       1      2        1
 2    3   8.0000      2      63  0    1      1       1      1        1
 2    3   8.0000      2      52  1    2      2       2      1        .
 2    3   8.0000      2      78  1    2      2       1      2        2
 2    3   8.0000      2      66  1    1      3       1      1        2
 2    3   8.0000      3      58  1    2      3       1      2        2
 2    3   8.0000      3      56  1    1      1       1      2        1
 2    3   8.0000      2      46  1    2      1       1      2        1
 2    3   8.0000      3      55  0    1      1       2      2        1
 2    3   8.0000      3      83  0    1      2       1      2        1
 2    3   8.0000      3      36  0    1      2       2      2        1
 2    3   8.0000      1      60  0    1      3       1      2        1
 3    1  13.0435      3      62  0    2      1       1      2        1
 3    1  13.0435      2      39  1    2      3       2      2        1
 3    1  13.0435      2      66  0    1      3       2      2        2
 3    1  13.0435      1      77  1    1      2       2      1        1
 3    1  13.0435      2      29  1    2      2       1      1        1
 3    1  13.0435      2      76  1    2      3       2      2        1
 3    1  13.0435      3      80  0    1      1       1      2        1
 3    1  13.0435      3      66  0    2      1       1      1        1
 3    1  13.0435      3      71  1    2      3       2      2        1
 3    1  13.0435      2      75  1    1      3       2      2        1
 3    1  13.0435      2      22  1    1      1       2      2        1
 3    1  13.0435      1      59  1    1      1       2      2        1
 3    1  13.0435      1      32  0    1      1       1      2        1
 3    1  13.0435      1      25  0    1      2       1      2        2
 3    1  13.0435      2      47  0    2      3       1      2        1
 3    1  13.0435      2      79  0    1      1       1      1        2
 3    1  13.0435      1      84  1    2      1       1      2        1
 3    1  13.0435      3      53  1    2      3       1      2        1
 3    1  13.0435      2      83  1    2      1       2      2        2
 3    1  13.0435      2      56  1    1      3       1      1        1
 3    1  13.0435      2      51  1    1      1       1      2        1
 3    1  13.0435      3      50  1    1      1       2      2        2
 3    1  13.0435      2      71  0    2      1       2      2        1
 3    2  12.5000      3      25  1    2      1       1      2        2
 3    2  12.5000      3      82  0    1      1       1      2        1
 3    2  12.5000      1      67  1    1      2       2      2        1
 3    2  12.5000      3      61  1    1      2       1      2        1
 3    2  12.5000      2      63  1    2      2       2      2        1
 3    2  12.5000      3      54  1    2      2       1      2        1
 3    2  12.5000      1      38  0    1      2       2      2        2
 3    2  12.5000      2      41  0    1      3       1      2        1
 3    2  12.5000      3      80  1    1      3       1      2        1
 3    2  12.5000      3      53  0    1      1       2      2        1
 3    2  12.5000      3      56  0    1      1       2      2        1
 3    2  12.5000      2      43  1    3      1       1      1        1
 3    2  12.5000      3      44  1    2      1       2      2        1
 3    2  12.5000      2      66  1    1      1       1      2        1
 3    2  12.5000      3      29  1    1      2       1      2        2
 3    2  12.5000      2      43  1    1      2       2      2        1
 3    2  12.5000      2      29  0    1      2       2      2        1
 3    2  12.5000      3      42  0    1      1       1      2        1
 3    2  12.5000      2      76  1    2      3       1      2        1
 3    2  12.5000      2      45  0    1      1       1      2        .
 3    2  12.5000      1      43  1    2      2       1      2        1
 3    2  12.5000      2      23  0    1      3       1      2        1
 3    2  12.5000      2      45  0    3      1       2      2        1
 3    2  12.5000      1      67  0    1      2       1      2        1
 3    3  16.6667      1      29  0    1      1       1      2        1
 3    3  16.6667      2      37  1    2      1       1      1        1
 3    3  16.6667      2      84  0    1      1       1      1        1
 3    3  16.6667      3      25  1    1      2       1      1        1
 3    3  16.6667      2      32  0    2      1       1      2        1
 3    3  16.6667      3      65  0    2      2       1      2        1
 3    3  16.6667      2      48  0    1      1       2      2        2
 3    3  16.6667      3      71  1    1      1       1      2        1
 3    3  16.6667      3      31  0    2      2       1      1        2
 3    3  16.6667      1      49  1    2      3       1      2        1
 3    3  16.6667      1      22  0    2      1       1      2        2
 3    3  16.6667      3      67  0    1      3       2      2        1
 3    3  16.6667      2      59  0    1      2       1      2        1
 3    3  16.6667      2      62  1    2      1       2      2        1
 3    3  16.6667      1      52  1    1      1       1      2        1
 3    3  16.6667      3      83  0    1      2       1      2        2
 3    3  16.6667      1      84  1    1      3       1      1        1
 3    3  16.6667      1      27  0    2      2       2      2        2
 4    1  21.0526      2      67  1    1      .       .      .        .
 4    1  21.0526      2      84  1    1      1       1      2        1
 4    1  21.0526      3      54  0    1      1       1      1        1
 4    1  21.0526      1      27  1    2      1       1      2        1
 4    1  21.0526      3      58  1    1      1       1      2        2
 4    1  21.0526      1      72  0    1      3       1      1        .
 4    1  21.0526      3      34  1    1      1       1      1        1
 4    1  21.0526      2      78  0    2      2       2      2        2
 4    1  21.0526      1      37  1    1      1       1      2        2
 4    1  21.0526      2      85  1    1      3       1      2        .
 4    1  21.0526      3      35  0    1      3       1      2        2
 4    1  21.0526      2      72  0    1      1       1      1        1
 4    1  21.0526      2      82  1    1      2       1      1        2
 4    1  21.0526      2      52  1    1      2       2      2        2
 4    1  21.0526      3      49  1    2      1       1      2        1
 4    1  21.0526      3      24  0    1      1       1      2        1
 4    1  21.0526      1      44  1    2      1       2      2        1
 4    1  21.0526      3      82  1    2      1       1      2        1
 4    1  21.0526      3      30  0    1      3       1      2        1
 4    2  18.1818      3      40  0    1      2       1      1        2
 4    2  18.1818      1      40  0    2      1       1      2        .
 4    2  18.1818      3      72  1    1      2       2      2        1
 4    2  18.1818      2      41  1    1      1       2      2        2
 4    2  18.1818      2      62  1    1      1       1      1        1
 4    2  18.1818      2      29  1    1      2       1      2        2
 4    2  18.1818      1      19  0    1      2       1      2        1
 4    2  18.1818      2      25  1    1      1       2      1        .
 4    2  18.1818      3      35  0    2      1       2      2        1
 4    2  18.1818      3      51  0    1      2       1      1        1
 4    2  18.1818      3      69  1    2      1       2      1        1
 4    2  18.1818      3      34  1    1      2       1      1        1
 4    2  18.1818      3      53  1    1      3       1      2        1
 4    2  18.1818      1      79  1    2      2       1      1        1
 4    2  18.1818      2      37  0    1      2       2      2        1
 4    2  18.1818      1      73  0    1      3       1      2        1
 4    2  18.1818      3      85  0    1      1       1      2        2
 4    2  18.1818      1      39  1    1      1       2      2        1
 4    2  18.1818      3      48  .    .      .       .      .        .
 4    2  18.1818      3      88  0    3      1       1      2        1
 4    2  18.1818      2      47  1    2      2       2      2        1
 4    2  18.1818      2      71  0    3      1       2      2        1
 4    3  16.6667      3      78  0    1      2       1      2        1
 4    3  16.6667      1      21  1    2      1       1      2        1
 4    3  16.6667      2      79  0    1      3       1      2        .
 4    3  16.6667      2      80  0    1      2       1      2        1
 4    3  16.6667      2      76  1    1      1       1      1        1
 4    3  16.6667      2      35  0    2      1       1      2        1
 4    3  16.6667      1      76  0    2      2       2      2        1
 4    3  16.6667      2      19  1    1      2       1      2        1
 4    3  16.6667      2      60  1    1      1       2      2        1
 4    3  16.6667      2      50  1    1      1       1      2        1
 4    3  16.6667      1      28  1    1      1       1      2        1
 4    3  16.6667      3      61  1    1      2       1      2        2
 4    3  16.6667      1      77  1    1      2       2      2        1
 4    3  16.6667      2      78  0    1      3       1      2        1
 4    3  16.6667      3      84  1    2      1       2      2        1
 4    3  16.6667      2      56  1    1      1       1      2        1
 4    3  16.6667      1      67  1    1      1       1      1        .
 4    3  16.6667      3      36  1    1      2       1      1        1
 4    3  16.6667      2      38  0    2      1       1      1        1
 4    3  16.6667      1      29  1    1      2       1      2        2
 4    3  16.6667      2      25  1    1      1       2      1        1
 4    3  16.6667      3      67  0    1      2       1      1        2
 4    3  16.6667      2      82  1    1      2       1      1        1
 4    3  16.6667      2      78  1    1      3       1      2        1
 5    1  20.8333      3      67  0    2      1       1      2        2
 5    1  20.8333      1      55  1    2      1       1      2        1
 5    1  20.8333      2      19  0    1      .       .      .        .
 5    1  20.8333      1      86  1    2      3       2      1        1
 5    1  20.8333      2      34  0    3      2       1      1        1
 5    1  20.8333      2      87  1    1      2       1      2        1
 5    1  20.8333      2      53  0    2      1       1      2        2
 5    1  20.8333      3      31  0    1      1       2      1        1
 5    1  20.8333      1      73  0    1      3       2      2        1
 5    1  20.8333      3      25  0    2      3       1      2        1
 5    1  20.8333      3      65  1    2      1       1      2        2
 5    1  20.8333      1      37  1    2      1       1      2        1
 5    1  20.8333      2      76  0    1      1       1      1        1
 5    1  20.8333      2      52  1    1      3       1      2        1
 5    1  20.8333      3      84  1    3      2       1      2        2
 5    1  20.8333      1      72  1    2      2       2      1        1
 5    1  20.8333      2      42  0    1      2       1      2        1
 5    1  20.8333      2      72  1    1      1       1      2        2
 5    1  20.8333      3      57  0    1      3       1      2        1
 5    1  20.8333      2      72  1    1      3       1      2        1
 5    1  20.8333      2      43  1    1      3       1      1        1
 5    1  20.8333      2      48  0    2      3       1      2        1
 5    1  20.8333      1      56  0    2      1       1      1        1
 5    1  20.8333      3      72  1    3      1       1      1        1
 5    2  20.8333      2      44  0    1      2       2      2        .
 5    2  20.8333      3      24  0    1      .       .      .        .
 5    2  20.8333      1      57  1    1      2       1      2        1
 5    2  20.8333      3      81  0    1      1       1      2        1
 5    2  20.8333      3      55  0    1      1       2      1        1
 5    2  20.8333      3      29  1    2      .       .      .        .
 5    2  20.8333      3      51  1    1      1       1      2        2
 5    2  20.8333      3      72  1    3      2       1      2        1
 5    2  20.8333      2      25  1    2      .       .      .        .
 5    2  20.8333      2      59  0    2      2       1      1        1
 5    2  20.8333      2      72  1    1      2       1      2        1
 5    2  20.8333      3      51  1    3      3       2      2        2
 5    2  20.8333      3      75  0    1      1       2      2        .
 5    2  20.8333      3      44  1    2      1       1      2        1
 5    2  20.8333      2      72  0    2      1       2      2        1
 5    2  20.8333      3      23  1    2      2       1      1        1
 5    2  20.8333      1      58  1    2      1       2      2        1
 5    2  20.8333      2      65  1    2      2       1      1        2
 5    2  20.8333      2      43  1    3      3       1      1        1
 5    2  20.8333      1      59  1    2      1       2      2        1
 5    2  20.8333      2      82  0    2      3       1      2        1
 5    2  20.8333      3      55  1    2      3       1      1        1
 5    2  20.8333      2      44  1    1      3       1      2        2
 5    2  20.8333      3      35  0    3      3       1      2        2
 5    3  25.0000      1      41  0    1      1       1      2        1
 5    3  25.0000      3      27  1    1      1       1      2        1
 5    3  25.0000      2      72  1    1      3       1      2        1
 5    3  25.0000      1      81  1    3      3       2      2        1
 5    3  25.0000      2      70  1    1      2       1      1        1
 5    3  25.0000      2      22  0    1      3       1      1        1
 5    3  25.0000      2      63  1    2      2       2      2        2
 5    3  25.0000      2      61  1    1      1       1      2        1
 5    3  25.0000      2      21  1    1      1       1      2        1
 5    3  25.0000      1      21  1    1      1       1      2        2
 5    3  25.0000      1      21  0    1      2       1      2        .
 5    3  25.0000      1      60  1    1      3       1      2        1
 5    3  25.0000      1      79  1    2      1       1      2        2
 5    3  25.0000      2      56  1    1      1       1      2        1
 5    3  25.0000      2      81  1    2      2       1      2        1
 5    3  25.0000      1      86  1    1      2       1      2        2
 5    3  25.0000      3      30  1    1      1       1      2        1
 5    3  25.0000      2      76  1    2      2       1      2        1
 5    3  25.0000      1      57  0    1      3       1      2        2
 5    3  25.0000      3      70  0    1      2       1      2        1
 5    4  18.5185      3      69  0    3      1       1      2        1
 5    4  18.5185      3      53  1    1      1       1      1        1
 5    4  18.5185      3      43  1    1      1       2      1        2
 5    4  18.5185      2      66  0    3      2       2      2        1
 5    4  18.5185      1      27  1    2      3       1      2        2
 5    4  18.5185      3      65  0    2      1       1      2        1
 5    4  18.5185      1      50  1    3      3       1      2        1
 5    4  18.5185      2      78  1    2      1       1      2        2
 5    4  18.5185      1      34  0    2      2       2      1        1
 5    4  18.5185      2      43  1    3      2       2      2        1
 5    4  18.5185      2      43  1    2      1       1      1        .
 5    4  18.5185      1      37  .    .      .       .      .        .
 5    4  18.5185      2      84  1    1      .       .      .        .
 5    4  18.5185      2      65  0    2      3       1      2        .
 5    4  18.5185      1      50  1    1      1       2      2        2
 5    4  18.5185      1      25  0    1      1       1      2        1
 5    4  18.5185      2      52  0    1      1       2      2        2
 5    4  18.5185      2      80  0    1      1       1      1        2
 5    4  18.5185      2      38  1    1      3       1      2        1
 5    4  18.5185      3      58  1    2      1       1      2        1
 5    4  18.5185      3      46  1    2      1       1      1        1
 5    4  18.5185      2      30  1    1      1       2      1        2
 5    4  18.5185      3      50  0    3      2       2      2        2
 5    4  18.5185      1      46  0    2      2       2      2        2
 5    4  18.5185      2      52  1    2      2       1      2        2
 5    4  18.5185      2      74  1    1      2       2      2        1
 5    4  18.5185      1      77  1    3      3       1      2        1
 6    1  35.2941      3      88  1    1      1       1      2        1
 6    1  35.2941      2      26  0    1      2       1      1        1
 6    1  35.2941      2      85  0    1      1       1      2        1
 6    1  35.2941      2      83  1    1      1       1      2        1
 6    1  35.2941      1      87  0    1      1       1      2        1
 6    1  35.2941      1      81  1    2      3       2      2        1
 6    1  35.2941      3      71  0    2      3       1      2        1
 6    1  35.2941      1      19  0    2      1       2      2        1
 6    1  35.2941      3      21  0    1      3       2      2        1
 6    1  35.2941      1      54  1    1      2       2      2        1
 6    1  35.2941      2      37  1    3      1       1      2        1
 6    1  35.2941      2      55  1    3      2       1      2        1
 6    1  35.2941      3      33  0    2      3       2      2        1
 6    1  35.2941      1      67  1    1      3       1      1        1
 6    1  35.2941      2      64  1    1      3       1      2        1
 6    1  35.2941      2      43  1    1      2       2      2        1
 6    1  35.2941      3      61  0    1      2       1      1        1
 6    2  35.2941      2      29  1    1      1       1      2        1
 6    2  35.2941      3      21  1    2      1       2      2        1
 6    2  35.2941      1      34  0    1      1       2      1        1
 6    2  35.2941      2      29  1    2      1       2      2        1
 6    2  35.2941      1      24  1    3      3       1      2        1
 6    2  35.2941      3      24  1    1      2       1      1        1
 6    2  35.2941      1      72  1    1      1       1      2        1
 6    2  35.2941      1      34  0    1      1       2      1        1
 6    2  35.2941      2      23  1    1      1       1      2        1
 6    2  35.2941      3      81  0    1      1       1      2        2
 6    2  35.2941      2      43  1    2      1       2      1        1
 6    2  35.2941      2      75  0    1      2       1      1        1
 6    2  35.2941      1      76  1    1      1       2      1        1
 6    2  35.2941      3      37  1    1      1       1      2        1
 6    2  35.2941      3      47  0    1      2       1      2        1
 6    2  35.2941      2      28  1    2      3       2      1        1
 6    2  35.2941      1      49  1    1      1       1      2        1
 6    3  30.0000      1      61  0    1      1       1      2        1
 6    3  30.0000      3      20  0    1      1       1      2        1
 6    3  30.0000      1      28  0    1      2       1      2        1
 6    3  30.0000      2      69  0    3      3       2      2        1
 6    3  30.0000      2      31  1    1      2       1      2        1
 6    3  30.0000      3      60  0    1      1       1      2        1
 6    3  30.0000      1      27  0    1      2       2      2        1
 6    3  30.0000      2      35  0    2      1       2      2        1
 6    3  30.0000      2      27  1    1      1       2      1        1
 6    3  30.0000      3      79  0    3      1       1      1        2
 6    3  30.0000      2      73  0    1      1       1      2        1
 6    3  30.0000      1      25  0    1      2       1      1        1
 6    3  30.0000      1      71  1    1      1       1      2        1
 6    3  30.0000      3      74  1    1      1       2      2        1
 6    3  30.0000      2      48  1    1      1       1      1        1
 6    3  30.0000      2      67  1    1      3       2      2        2
 6    3  30.0000      2      64  0    1      1       1      1        1
 6    3  30.0000      1      87  0    1      1       2      2        1
 6    3  30.0000      1      33  1    1      3       1      2        1
 6    3  30.0000      2      66  1    1      1       1      2        1
 7    1  30.4348      3      40  0    1      1       1      2        1
 7    1  30.4348      2      19  0    2      1       1      2        1
 7    1  30.4348      3      80  1    2      1       1      2        2
 7    1  30.4348      2      80  0    2      2       1      1        1
 7    1  30.4348      2      56  1    1      3       2      2        1
 7    1  30.4348      1      69  1    2      1       1      1        1
 7    1  30.4348      1      25  1    1      1       1      2        2
 7    1  30.4348      3      67  0    1      2       1      2        1
 7    1  30.4348      2      29  0    1      3       2      2        1
 7    1  30.4348      2      52  1    1      2       2      2        1
 7    1  30.4348      3      41  1    1      1       1      2        1
 7    1  30.4348      2      31  0    2      1       1      2        1
 7    1  30.4348      2      78  0    1      1       1      2        1
 7    1  30.4348      1      84  1    2      1       1      2        1
 7    1  30.4348      2      23  0    2      1       1      2        1
 7    1  30.4348      2      48  1    1      1       1      2        2
 7    1  30.4348      2      67  1    3      3       1      2        1
 7    1  30.4348      1      52  0    3      3       1      2        2
 7    1  30.4348      1      50  0    2      3       2      2        2
 7    1  30.4348      2      54  0    2      1       2      1        1
 7    1  30.4348      3      29  1    1      1       1      2        1
 7    1  30.4348      3      21  1    3      2       1      1        1
 7    1  30.4348      3      33  1    1      1       1      2        1
 7    2  41.1765      2      54  1    1      2       1      2        1
 7    2  41.1765      1      23  1    1      1       1      1        1
 7    2  41.1765      3      54  1    2      1       1      2        1
 7    2  41.1765      1      25  1    3      2       1      1        2
 7    2  41.1765      3      78  1    3      3       1      2        1
 7    2  41.1765      2      79  1    2      1       2      2        2
 7    2  41.1765      1      28  1    1      3       1      2        1
 7    2  41.1765      2      30  0    3      1       1      2        1
 7    2  41.1765      3      25  0    2      1       1      2        1
 7    2  41.1765      2      46  1    1      1       1      1        1
 7    2  41.1765      2      81  0    1      1       1      2        2
 7    2  41.1765      2      61  1    1      1       1      1        1
 7    2  41.1765      2      55  0    2      1       2      2        1
 7    2  41.1765      2      57  1    1      1       1      2        1
 7    2  41.1765      3      58  1    1      .       .      .        .
 7    2  41.1765      3      30  1    1      2       1      1        1
 7    2  41.1765      1      54  1    2      1       1      2        1
 7    3  33.3333      3      41  1    1      2       1      2        1
 7    3  33.3333      2      28  0    1      1       1      1        1
 7    3  33.3333      2      65  .    .      .       .      .        .
 7    3  33.3333      1      39  1    1      2       1      1        1
 7    3  33.3333      2      75  0    1      3       1      2        1
 7    3  33.3333      2      19  0    1      1       1      2        1
 7    3  33.3333      2      61  1    2      2       1      2        1
 7    3  33.3333      3      44  1    2      2       1      1        1
 7    3  33.3333      2      20  1    1      1       2      2        1
 7    3  33.3333      3      28  1    1      2       1      1        1
 7    3  33.3333      3      88  0    2      2       1      1        1
 7    3  33.3333      2      58  0    2      3       2      1        1
 7    3  33.3333      2      37  0    1      3       1      2        1
 7    3  33.3333      2      23  0    2      1       1      2        1
 7    3  33.3333      2      48  0    1      3       2      1        1
 7    3  33.3333      1      63  0    1      1       2      2        1
 7    3  33.3333      1      73  0    2      1       1      2        1
 7    3  33.3333      1      86  0    2      1       1      2        1
 7    3  33.3333      1      22  .    .      .       .      .        .
 7    3  33.3333      2      33  1    1      1       1      2        1
 7    3  33.3333      2      52  1    1      2       1      2        1
 7    4  25.0000      2      69  0    2      1       1      2        1
 7    4  25.0000      1      55  1    2      .       .      .        .
 7    4  25.0000      3      64  0    1      1       1      1        .
 7    4  25.0000      1      76  1    1      1       1      2        1
 7    4  25.0000      2      85  1    2      1       1      1        2
 7    4  25.0000      3      36  1    1      1       2      1        .
 7    4  25.0000      1      22  0    1      1       1      1        1
 7    4  25.0000      1      42  1    2      1       1      2        1
 7    4  25.0000      2      25  1    1      1       1      2        1
 7    4  25.0000      3      59  0    2      1       2      1        1
 7    4  25.0000      1      74  1    3      2       1      2        .
 7    4  25.0000      3      88  0    1      2       1      2        1
 7    4  25.0000      1      82  0    1      3       1      2        2
 7    4  25.0000      2      74  1    1      3       1      2        1
 7    4  25.0000      1      35  1    2      1       1      1        1
 7    4  25.0000      1      19  1    1      2       1      1        1
 7    4  25.0000      3      49  1    1      1       2      2        1
 7    4  25.0000      3      72  0    1      2       1      2        1
 7    4  25.0000      2      34  1    1      3       2      2        1
 7    4  25.0000      2      66  1    1      1       2      2        1
 7    4  25.0000      2      74  1    2      2       2      2        1
 7    4  25.0000      1      38  1    1      1       2      2        1
 7    4  25.0000      3      73  0    1      1       1      1        1
 7    4  25.0000      1      72  1    1      1       1      1        1
 7    4  25.0000      1      28  0    1      1       2      2        1
 7    4  25.0000      2      35  1    1      1       2      2        1
 7    4  25.0000      3      80  0    2      2       1      2        1
 7    4  25.0000      2      71  1    2      1       1      1        2
 8    1  53.3333      3      58  0    1      2       1      2        1
 8    1  53.3333      3      21  0    2      2       1      2        2
 8    1  53.3333      2      86  1    1      1       1      1        .
 8    1  53.3333      3      77  1    1      1       1      2        1
 8    1  53.3333      1      64  1    1      3       1      1        1
 8    1  53.3333      3      80  0    1      3       1      2        2
 8    1  53.3333      1      20  0    1      2       1      2        1
 8    1  53.3333      1      87  0    1      3       1      2        1
 8    1  53.3333      3      55  0    3      2       2      1        1
 8    1  53.3333      2      64  1    1      1       1      2        1
 8    1  53.3333      2      65  1    1      1       2      2        1
 8    1  53.3333      2      29  1    1      2       1      1        1
 8    1  53.3333      2      47  1    1      3       1      1        1
 8    1  53.3333      1      76  0    3      3       2      2        1
 8    1  53.3333      1      81  0    1      2       1      2        2
 8    2  53.3333      1      29  1    2      1       1      2        .
 8    2  53.3333      2      72  0    1      3       1      1        1
 8    2  53.3333      1      43  0    2      1       2      2        2
 8    2  53.3333      1      22  0    3      2       1      2        1
 8    2  53.3333      1      26  0    1      2       2      2        2
 8    2  53.3333      3      84  0    1      2       1      2        1
 8    2  53.3333      2      33  0    2      1       1      2        1
 8    2  53.3333      3      32  1    1      1       2      2        2
 8    2  53.3333      1      47  1    2      1       2      2        1
 8    2  53.3333      2      59  1    1      2       1      2        1
 8    2  53.3333      3      46  1    1      3       1      2        1
 8    2  53.3333      1      45  0    1      3       1      1        1
 8    2  53.3333      3      28  1    1      1       2      1        2
 8    2  53.3333      3      64  0    1      1       2      2        1
 8    2  53.3333      2      80  0    1      1       1      2        2
 8    3  30.7692      2      26  1    1      2       1      2        2
 8    3  30.7692      3      55  0    1      1       2      2        1
 8    3  30.7692      1      70  1    2      1       2      2        1
 8    3  30.7692      3      79  1    2      3       2      2        1
 8    3  30.7692      1      55  1    1      3       1      2        1
 8    3  30.7692      3      36  0    1      3       1      1        1
 8    3  30.7692      1      74  1    2      2       2      2        1
 8    3  30.7692      1      59  1    1      1       1      1        2
 8    3  30.7692      2      74  1    2      1       1      2        2
 8    3  30.7692      2      59  0    2      1       2      2        1
 8    3  30.7692      2      67  0    2      2       2      2        2
 8    3  30.7692      3      83  1    1      1       1      1        1
 8    3  30.7692      2      73  1    3      2       2      2        2
 8    3  30.7692      1      34  1    1      1       1      1        2
 8    3  30.7692      2      31  0    2      2       2      2        1
 8    3  30.7692      2      46  0    1      1       1      1        1
 8    3  30.7692      2      23  0    1      1       2      2        1
 8    3  30.7692      1      64  1    2      3       1      1        1
 8    3  30.7692      2      59  1    1      2       1      2        1
 8    3  30.7692      2      77  0    1      1       1      1        1
 8    3  30.7692      2      23  1    1      1       1      1        1
 8    3  30.7692      2      41  1    1      1       1      2        2
 8    3  30.7692      3      81  1    1      2       1      2        1
 8    3  30.7692      1      42  0    1      1       1      1        1
 8    3  30.7692      3      60  1    1      1       1      2        1
 8    3  30.7692      2      63  1    2      1       1      2        1
 8    4  38.0952      2      79  1    1      .       .      .        .
 8    4  38.0952      2      31  1    1      1       2      2        .
 8    4  38.0952      3      21  0    2      2       1      2        1
 8    4  38.0952      1      83  1    1      1       2      2        1
 8    4  38.0952      3      62  0    2      1       1      2        .
 8    4  38.0952      3      81  0    3      3       2      1        1
 8    4  38.0952      3      45  1    1      2       1      2        1
 8    4  38.0952      2      68  1    2      2       1      2        2
 8    4  38.0952      2      30  1    2      3       2      2        1
 8    4  38.0952      1      58  0    2      1       1      1        1
 8    4  38.0952      1      49  1    1      1       1      2        1
 8    4  38.0952      3      28  0    2      2       2      2        1
 8    4  38.0952      3      19  1    2      1       1      2        1
 8    4  38.0952      3      80  0    1      2       2      2        1
 8    4  38.0952      1      63  0    1      1       1      2        1
 8    4  38.0952      2      27  1    2      1       1      2        1
 8    4  38.0952      2      68  1    1      2       2      2        1
 8    4  38.0952      3      30  1    1      1       1      2        1
 8    4  38.0952      1      23  0    1      2       2      2        2
 8    4  38.0952      2      55  0    1      1       2      2        1
 8    4  38.0952      3      44  0    2      1       1      2        2
 9    1  42.8571      3      75  1    2      1       1      2        1
 9    1  42.8571      3      25  0    1      1       2      2        2
 9    1  42.8571      1      20  0    2      1       2      1        1
 9    1  42.8571      1      73  1    1      1       2      1        1
 9    1  42.8571      1      25  0    2      2       1      2        1
 9    1  42.8571      1      43  1    1      3       1      2        1
 9    1  42.8571      3      60  0    3      1       2      1        1
 9    1  42.8571      1      66  1    1      3       2      2        1
 9    1  42.8571      2      27  1    1      3       1      2        1
 9    1  42.8571      1      56  1    1      2       1      1        1
 9    1  42.8571      1      53  0    1      3       1      1        1
 9    1  42.8571      3      56  1    1      2       1      1        1
 9    1  42.8571      3      63  0    1      1       1      1        .
 9    1  42.8571      2      36  1    2      3       2      2        2
 9    1  42.8571      3      55  1    1      2       2      2        2
 9    1  42.8571      1      87  1    1      3       1      1        1
 9    1  42.8571      2      52  1    2      2       2      2        1
 9    1  42.8571      1      44  1    2      1       1      1        1
 9    1  42.8571      2      88  1    1      2       2      2        1
 9    1  42.8571      3      79  0    1      2       2      2        1
 9    1  42.8571      1      81  0    1      1       2      2        1
 9    2  36.0000      2      47  1    1      1       1      2        1
 9    2  36.0000      1      64  1    2      3       1      2        1
 9    2  36.0000      2      46  1    1      2       1      1        2
 9    2  36.0000      1      78  0    1      1       1      2        1
 9    2  36.0000      2      83  1    1      3       2      2        1
 9    2  36.0000      1      51  1    2      1       2      1        2
 9    2  36.0000      2      55  1    1      1       1      1        1
 9    2  36.0000      3      41  1    1      2       1      2        1
 9    2  36.0000      3      32  0    1      3       1      2        1
 9    2  36.0000      3      81  0    2      1       1      2        1
 9    2  36.0000      1      19  1    1      3       1      2        1
 9    2  36.0000      1      74  0    2      1       1      1        .
 9    2  36.0000      2      22  1    1      2       2      2        1
 9    2  36.0000      3      53  1    1      1       1      1        1
 9    2  36.0000      1      77  1    1      1       1      2        1
 9    2  36.0000      2      77  1    1      3       1      2        1
 9    2  36.0000      1      37  1    1      .       .      .        .
 9    2  36.0000      2      80  1    1      2       1      2        .
 9    2  36.0000      3      45  0    2      2       1      2        1
 9    2  36.0000      2      35  0    2      1       1      1        1
 9    2  36.0000      1      43  0    2      3       1      2        1
 9    2  36.0000      1      68  1    1      3       1      2        1
 9    2  36.0000      2      83  0    1      2       1      2        1
 9    2  36.0000      1      24  0    3      1       2      1        2
 9    2  36.0000      2      61  0    1      1       1      2        1
 9    3  42.8571      1      44  0    2      1       2      2        2
 9    3  42.8571      2      49  0    1      2       2      1        1
 9    3  42.8571      3      53  1    1      1       1      2        2
 9    3  42.8571      1      66  1    2      2       1      2        1
 9    3  42.8571      3      81  0    1      1       1      1        2
 9    3  42.8571      1      25  1    1      2       1      2        1
 9    3  42.8571      2      71  1    1      1       1      2        1
 9    3  42.8571      3      55  1    1      2       1      2        1
 9    3  42.8571      2      66  1    3      1       2      2        1
 9    3  42.8571      2      86  1    1      3       1      2        1
 9    3  42.8571      2      20  0    1      1       1      1        1
 9    3  42.8571      3      19  0    3      1       2      1        1
 9    3  42.8571      1      43  1    2      3       1      2        2
 9    3  42.8571      3      70  1    3      1       1      1        1
 9    3  42.8571      3      85  0    2      3       1      2        1
 9    3  42.8571      2      81  0    2      1       1      2        1
 9    3  42.8571      1      50  0    1      1       2      2        1
 9    3  42.8571      3      24  1    1      2       1      1        2
 9    3  42.8571      3      51  0    1      2       1      1        2
 9    3  42.8571      3      46  1    1      1       1      2        1
 9    3  42.8571      2      36  0    3      3       1      1        2
10    1  43.4783      1      34  0    2      3       1      2        1
10    1  43.4783      2      39  1    2      3       1      1        .
10    1  43.4783      2      39  0    1      2       1      2        2
10    1  43.4783      3      62  0    1      3       2      2        1
10    1  43.4783      1      31  1    2      2       2      1        1
10    1  43.4783      3      64  1    1      1       2      2        1
10    1  43.4783      3      68  0    1      2       1      2        1
10    1  43.4783      1      55  1    1      3       1      2        1
10    1  43.4783      3      87  0    1      3       1      1        .
10    1  43.4783      1      39  1    2      1       2      2        2
10    1  43.4783      2      22  1    1      3       1      1        2
10    1  43.4783      2      59  0    1      1       1      1        2
10    1  43.4783      2      53  0    1      1       1      2        1
10    1  43.4783      2      75  0    1      1       1      2        2
10    1  43.4783      2      73  0    1      3       1      2        1
10    1  43.4783      3      68  1    3      3       1      2        1
10    1  43.4783      1      85  1    1      1       2      2        1
10    1  43.4783      3      35  1    2      3       2      1        1
10    1  43.4783      3      43  1    1      2       1      1        1
10    1  43.4783      1      77  1    1      1       1      2        1
10    1  43.4783      2      86  0    1      2       1      2        2
10    1  43.4783      2      78  0    1      2       2      2        1
10    1  43.4783      2      35  0    1      3       1      2        2
10    2  47.6190      1      33  1    2      2       2      2        1
10    2  47.6190      2      45  1    1      1       2      2        2
10    2  47.6190      1      42  1    1      3       1      1        1
10    2  47.6190      3      62  1    3      1       2      2        1
10    2  47.6190      2      34  1    1      3       1      2        1
10    2  47.6190      1      62  1    3      2       1      2        1
10    2  47.6190      2      75  0    2      1       2      2        1
10    2  47.6190      3      24  0    1      1       1      2        1
10    2  47.6190      2      20  0    3      2       1      2        1
10    2  47.6190      3      69  1    1      3       1      2        2
10    2  47.6190      2      65  1    2      1       1      1        1
10    2  47.6190      2      22  1    2      3       1      2        1
10    2  47.6190      3      37  0    2      3       2      1        1
10    2  47.6190      2      49  0    1      3       1      1        1
10    2  47.6190      3      86  0    1      1       1      2        1
10    2  47.6190      2      65  0    1      2       2      2        1
10    2  47.6190      3      43  1    2      1       2      2        1
10    2  47.6190      1      26  0    1      1       1      2        .
10    2  47.6190      2      58  1    1      1       2      2        2
10    2  47.6190      2      63  1    1      1       1      2        1
10    2  47.6190      3      35  1    1      1       1      2        1
10    3  47.6190      2      83  1    1      3       1      2        1
10    3  47.6190      1      33  0    1      2       2      2        2
10    3  47.6190      2      73  0    2      1       2      1        2
10    3  47.6190      3      46  1    1      3       1      1        1
10    3  47.6190      2      60  0    3      1       1      2        1
10    3  47.6190      2      88  0    1      3       1      2        1
10    3  47.6190      1      51  0    3      1       1      2        2
10    3  47.6190      1      36  0    1      1       1      2        1
10    3  47.6190      3      39  1    2      1       2      2        1
10    3  47.6190      3      86  1    2      2       1      1        1
10    3  47.6190      2      47  0    3      1       1      2        2
10    3  47.6190      2      74  1    1      2       1      1        1
10    3  47.6190      1      24  0    1      3       1      1        1
10    3  47.6190      2      67  1    2      2       1      2        1
10    3  47.6190      1      48  1    1      1       1      2        1
10    3  47.6190      3      46  0    1      .       .      .        .
10    3  47.6190      2      69  0    1      .       .      .        .
10    3  47.6190      2      80  0    1      1       1      2        1
10    3  47.6190      2      45  0    1      1       1      1        1
10    3  47.6190      1      44  1    1      1       1      2        2
10    3  47.6190      1      50  0    2      2       1      1        1
10    4  55.5556      3      80  0    3      1       2      1        1
10    4  55.5556      1      82  0    2      2       1      1        1
10    4  55.5556      1      62  1    1      1       1      2        1
10    4  55.5556      1      45  0    2      3       2      2        2
10    4  55.5556      2      70  0    3      3       2      2        1
10    4  55.5556      2      79  1    1      2       1      2        2
10    4  55.5556      2      21  0    2      3       1      2        1
10    4  55.5556      1      31  0    2      2       1      2        1
10    4  55.5556      1      33  1    2      2       2      2        1
10    4  55.5556      2      71  .    .      .       .      .        .
10    4  55.5556      2      60  0    3      1       2      2        1
10    4  55.5556      3      59  1    2      1       1      2        2
10    4  55.5556      3      72  0    1      2       2      1        1
10    4  55.5556      3      44  1    2      2       1      1        1
10    4  55.5556      1      40  0    3      2       1      1        2
10    4  55.5556      1      32  1    3      1       2      2        1
10    4  55.5556      3      68  0    1      2       2      1        2
10    4  55.5556      3      35  1    1      2       1      2        2
;

proc surveyimpute data=DrugAbuse method=hotdeck(selection=abb)
                  ndonors=5 seed=773269;
   var Sex Race Insurance Drug Alcohol Treatment;
   cells ImputationCell;
   output out=DrugAbuseABB;
run;

data DAIMP;
   set DrugAbuseABB;
   if (ImpIndex = 0) then do;  /* Include complete respondents */
      do _Imputation_=1 to 5;   /* in all imputations.          */
         output;
      end;
   end;
   else do;                     /* Put incomplete respondents   */
      _Imputation_ = ImpIndex; /* in separate imputations.     */
      output;
   end;
proc sort data=DAIMP;
   by _Imputation_ UnitID;
run;

ods select none;
proc surveylogistic data=DAIMP;
   by _imputation_;
   class Treatment Insurance Sex Race;
   strata Strata;
   cluster PSU;
   weight ObsWeight;
   model Drug=Treatment Insurance Age Sex Race / covb;
   ods output parameterestimates=Estimates covb=Covariances;
run;
ods select all;

proc mianalyze parms(classvar=classval)=Estimates
               covb(effectvar=stacking)=Covariances
               edf=25;
   class Treatment Insurance Sex Race;
   modeleffects Intercept Treatment Insurance Age Sex Race;
   ods output parameterestimates=ABBLogisticAnalysis;
run;

