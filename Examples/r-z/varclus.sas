 /****************************************************************/
 /*          S A S   S A M P L E   L I B R A R Y                 */
 /*                                                              */
 /*    NAME: VARCLUS                                             */
 /*   TITLE: Disjoint Clustering Variables                       */
 /* PRODUCT: SAS                                                 */
 /*  SYSTEM: ALL                                                 */
 /*    KEYS: CLUSTER                                             */
 /*   PROCS: VARCLUS FACTOR                                      */
 /*    DATA:                                                     */
 /*                                                              */
  /*     REF:                                                     */
 /*    MISC:                                                     */
 /*                                                              */
 /****************************************************************/

title 'Twenty Four Psychological Tests';
title2 'See Pages 124-125 of Harman: Modern Factor Analysis, 2nd Ed';

data psych24(type=corr);
   input _Name_ $ Test1-Test24;
   if _n_=1 then _Type_='N   ';
            else _type_='CORR';
   label
      test1='Visual Perception'           test2='Cubes'
      test3='Paper Form Board'            test4='Flags'
      test5='General Information'         test6='Paragraph Comprehension'
      test7='Sentence Completion'         test8='Word Classification'
      test9='Word Meaning'                test10='Addition'
      test11='Code'                       test12='Counting Dots'
      test13='Straight-Curved Capitals'   test14='Word Recognition'
      test15='Number Recognition'         test16='Figure Recognition'
      test17='Object - Number'            test18='Number - Figure'
      test19='Figure - Word'              test20='Deduction'
      test21='Numerical Puzzles'          test22='Problem Reasoning'
      test23='Series Completion'          test24='Arithmetic Problems';
   datalines;
 DF         146     146     146     146     146
            146     146     146     146     146
            146     146     146     146     146
            146     146     146     146     146
            146     146     146     146
 Test1      1.000   0.318   0.403   0.468   0.321
            0.335   0.304   0.332   0.326   0.116
            0.308   0.314   0.489   0.125   0.238
            0.414   0.176   0.368   0.270   0.365
            0.369   0.413   0.474   0.282
 Test2      0.318   1.000   0.317   0.230   0.285
            0.234   0.157   0.157   0.195   0.057
            0.150   0.145   0.239   0.103   0.131
            0.272   0.005   0.255   0.112   0.292
            0.306   0.232   0.348   0.211
 Test3      0.403   0.317   1.000   0.305   0.247
            0.268   0.223   0.382   0.184  -0.075
            0.091   0.140   0.321   0.177   0.065
            0.263   0.177   0.211   0.312   0.297
            0.165   0.250   0.383   0.203
 Test4      0.468   0.230   0.305   1.000   0.227
            0.327   0.335   0.391   0.325   0.099
            0.110   0.160   0.327   0.066   0.127
            0.322   0.187   0.251   0.137   0.339
            0.349   0.380   0.335   0.248
 Test5      0.321   0.285   0.247   0.227   1.000
            0.622   0.656   0.578   0.723   0.311
            0.344   0.215   0.344   0.280   0.229
            0.187   0.208   0.263   0.190   0.398
            0.318   0.441   0.435   0.420
 Test6      0.335   0.234   0.268   0.327   0.622
            1.000   0.722   0.527   0.714   0.203
            0.353   0.095   0.309   0.292   0.251
            0.291   0.273   0.167   0.251   0.435
            0.263   0.386   0.431   0.433
 Test7      0.304   0.157   0.223   0.335   0.656
            0.722   1.000   0.619   0.685   0.246
            0.232   0.181   0.345   0.236   0.172
            0.180   0.228   0.159   0.226   0.451
            0.314   0.396   0.405   0.437
 Test8      0.332   0.157   0.382   0.391   0.578
            0.527   0.619   1.000   0.532   0.285
            0.300   0.271   0.395   0.252   0.175
            0.296   0.255   0.250   0.274   0.427
            0.362   0.357   0.501   0.388
 Test9      0.326   0.195   0.184   0.325   0.723
            0.714   0.685   0.532   1.000   0.170
            0.280   0.113   0.280   0.260   0.248
            0.242   0.274   0.208   0.274   0.446
            0.266   0.483   0.504   0.424
 Test10     0.116   0.057  -0.075   0.099   0.311
            0.203   0.246   0.285   0.170   1.000
            0.484   0.585   0.408   0.172   0.154
            0.124   0.289   0.317   0.190   0.173
            0.405   0.160   0.262   0.531
 Test11     0.308   0.150   0.091   0.110   0.344
            0.353   0.232   0.300   0.280   0.484
            1.000   0.428   0.535   0.350   0.240
            0.314   0.362   0.350   0.290   0.202
            0.399   0.304   0.251   0.412
 Test12     0.314   0.145   0.140   0.160   0.215
            0.095   0.181   0.271   0.113   0.585
            0.428   1.000   0.512   0.131   0.173
            0.119   0.278   0.349   0.110   0.246
            0.355   0.193   0.350   0.414
 Test13     0.489   0.239   0.321   0.327   0.344
            0.309   0.345   0.395   0.280   0.408
            0.535   0.512   1.000   0.195   0.139
            0.281   0.194   0.323   0.263   0.241
            0.425   0.279   0.382   0.358
 Test14     0.125   0.103   0.177   0.066   0.280
            0.292   0.236   0.252   0.260   0.172
            0.350   0.131   0.195   1.000   0.370
            0.412   0.341   0.201   0.206   0.302
            0.183   0.243   0.242   0.304
 Test15     0.238   0.131   0.065   0.127   0.229
            0.251   0.172   0.175   0.248   0.154
            0.240   0.173   0.139   0.370   1.000
            0.325   0.345   0.334   0.192   0.272
            0.232   0.246   0.256   0.165
 Test16     0.414   0.272   0.263   0.322   0.187
            0.291   0.180   0.296   0.242   0.124
            0.314   0.119   0.281   0.412   0.325
            1.000   0.324   0.344   0.258   0.388
            0.348   0.283   0.360   0.262
 Test17     0.176   0.005   0.177   0.187   0.208
            0.273   0.228   0.255   0.274   0.289
            0.362   0.278   0.194   0.341   0.345
            0.324   1.000   0.448   0.324   0.262
            0.173   0.273   0.287   0.326
 Test18     0.368   0.255   0.211   0.251   0.263
            0.167   0.159   0.250   0.208   0.317
            0.350   0.349   0.323   0.201   0.334
            0.344   0.448   1.000   0.358   0.301
            0.357   0.317   0.272   0.405
 Test19     0.270   0.112   0.312   0.137   0.190
            0.251   0.226   0.274   0.274   0.190
            0.290   0.110   0.263   0.206   0.192
            0.258   0.324   0.358   1.0     0.167
            0.331   0.342   0.303   0.374
 Test20     0.365   0.292   0.297   0.339   0.398
            0.435   0.451   0.427   0.446   0.173
            0.202   0.246   0.241   0.302   0.272
            0.388   0.262   0.301   0.167   1.000
            0.413   0.463   0.509   0.366
 Test21     0.369   0.306   0.165   0.349   0.318
            0.263   0.314   0.362   0.266   0.405
            0.399   0.355   0.425   0.183   0.232
            0.348   0.173   0.357   0.331   0.413
            1.000   0.374   0.451   0.448
 Test22     0.413   0.232   0.250   0.380   0.441
            0.386   0.396   0.357   0.483   0.160
            0.304   0.193   0.279   0.243   0.246
            0.283   0.273   0.317   0.342   0.463
            0.374   1.000   0.503   0.375
 Test23     0.474   0.348   0.383   0.335   0.435
            0.431   0.405   0.501   0.504   0.262
            0.251   0.350   0.382   0.242   0.256
            0.360   0.287   0.272   0.303   0.509
            0.451   0.503   1.0     0.434
 Test24     0.282   0.211   0.203   0.248   0.420
            0.433   0.437   0.388   0.424   0.531
            0.412   0.414   0.358   0.304   0.165
            0.262   0.326   0.405   0.374   0.366
            0.448   0.375   0.434   1.000
;

proc print;
run;

proc varclus s c;
   title2 'Varclus Analysis Beginning with One Group & Repeatedly Splitting';
run;

proc varclus minc=4;
   title2 'Varclus Analysis Beginning with Four Groups';
run;

proc factor method=prin rotate=promax power=4 nfact=4 round;
   title2 'Oblique Factor Analysis for Comparison With Varclus';
run;
